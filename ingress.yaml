apiVersion: networking.gke.io/v1
kind: MultiClusterIngress
metadata:
  name: foobar-ingress
  namespace: multi-cluster-demo
spec:
  template:
    spec:
      backend:
        serviceName: default-backend
        servicePort: 8080
      rules:
      - host: foo.example.com
        http:
          paths: 
            - path: /0 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /1 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /2 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /3 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /4 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /5 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /6 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /7 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /8 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /9 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /10 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /11 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /12 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /13 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /14 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /15 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /16 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /17 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /18 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /19 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /20 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /21 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /22 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /23 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /24 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /25 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /26 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /27 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /28 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /29 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /30 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /31 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /32 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /33 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /34 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /35 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /36 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /37 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /38 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /39 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /40 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /41 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /42 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /43 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /44 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /45 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /46 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /47 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /48 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /49 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /50 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /51 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /52 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /53 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /54 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /55 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /56 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /57 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /58 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /59 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /60 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /61 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /62 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /63 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /64 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /65 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /66 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /67 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /68 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /69 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /70 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /71 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /72 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /73 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /74 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /75 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /76 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /77 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /78 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /79 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /80 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /81 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /82 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /83 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /84 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /85 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /86 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /87 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /88 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /89 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /90 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /91 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /92 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /93 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /94 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /95 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /96 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /97 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /98 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /99 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /100 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /101 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /102 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /103 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /104 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /105 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /106 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /107 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /108 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /109 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /110 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /111 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /112 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /113 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /114 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /115 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /116 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /117 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /118 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /119 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /120 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /121 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /122 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /123 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /124 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /125 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /126 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /127 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /128 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /129 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /130 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /131 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /132 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /133 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /134 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /135 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /136 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /137 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /138 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /139 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /140 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /141 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /142 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /143 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /144 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /145 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /146 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /147 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /148 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /149 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /150 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /151 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /152 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /153 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /154 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /155 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /156 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /157 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /158 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /159 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /160 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /161 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /162 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /163 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /164 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /165 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /166 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /167 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /168 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /169 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /170 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /171 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /172 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /173 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /174 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /175 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /176 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /177 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /178 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /179 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /180 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /181 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /182 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /183 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /184 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /185 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /186 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /187 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /188 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /189 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /190 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /191 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /192 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /193 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /194 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /195 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /196 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /197 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /198 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

            - path: /199 
              backend: 
                    serviceName: foo 
                    servicePort: 8080 

        

      - host: bar.example.com
        http: 
            paths: 
              - path: /
                backend:
                 serviceName: bar
                 servicePort: 8080

---
apiVersion: networking.gke.io/v1
kind: MultiClusterService
metadata:
  name: foo
  namespace: multi-cluster-demo
spec:
  template:
    spec:
      selector:
        app: foo
      ports:
      - name: http
        protocol: TCP
        port: 8080
        targetPort: 8080
---
apiVersion: networking.gke.io/v1
kind: MultiClusterService
metadata:
  name: bar
  namespace: multi-cluster-demo
  annotations:
    beta.cloud.google.com/backend-config: '{"ports": {"8080":"backend-health-check"}}'
spec:
  template:
    spec:
      selector:
        app: bar
      ports:
      - name: http
        protocol: TCP
        port: 8080
        targetPort: 8080
---
apiVersion: networking.gke.io/v1
kind: MultiClusterService
metadata:
  name: default-backend
  namespace: multi-cluster-demo
  annotations:
    beta.cloud.google.com/backend-config: '{"default": "backend-health-check"}'
spec:
  template:
    spec:
      selector:
        app: default-backend
      ports:
      - name: http
        protocol: TCP
        port: 8080
        targetPort: 8080
---
apiVersion: cloud.google.com/v1
kind: BackendConfig
metadata:
  name: backend-health-check
  namespace: multi-cluster-demo
spec:
  healthCheck:
    requestPath: /healthz
    port: 8080
    type: HTTP